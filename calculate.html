<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="./lib/Vue.min.js"></script>
    <script type="text/javascript" src="./js/table.js"></script>
    <link rel="stylesheet" href="./css/index.css" />
    <!-- 引入样式 -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  </head>

  <body>
    <div id="app">
      <div class="main" v-show="showPage">
        <div class="title">K-SK 2093.97 计算书</div>
        <h3>一、 原始参数:</h3>
        <h4>1、 热介质</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>空气流量: (m³/min)</p>
              <el-input
                v-model="form.flow"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>空气进口温度: (℃)</p>
              <el-input
                v-model="form.entrance"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>空气出口温度: (℃)</p>
              <el-input
                v-model="form.exit"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>空气湿度: (g/kg (干空气))</p>
              <el-input v-model="form.airHumidity" :disabled="true"></el-input>
              <p>空气进口压力: (Mpa(A))</p>
              <el-input
                v-model="form.inletPressure"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>空气允许压降: (Kpa)</p>
              <el-input
                v-model="form.depressurization"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>污垢系数: (m2.℃/W)</p>
              <el-input
                v-model="form.dirt"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>

          <el-col :span="12">
            <div class="grid-content">
              <p>进口温度: (℃)</p>
              <el-input
                v-model="form.temperature"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>进口压力: (bar)</p>
              <el-input
                v-model="form.stress"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>相对湿度:</p>
              <el-input
                v-model="form.humidity"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>介质平均分子量: (Kg/Kmol)</p>
              <el-input v-model="form.molecule" :disabled="true"></el-input>
              <p>气体常数: (J/(kg·k))</p>
              <el-input v-model="form.gases" :disabled="true"></el-input>
              <p>进口密度: (kg/m³)</p>
              <el-select
                v-model="form.standard_density"
                @change="standard"
                @visible-change="start_change"
              >
                <el-option
                  v-for="item in options"
                  :key="item.value"
                  :label="item.label"
                  :value="item.value"
                >
                </el-option>
              </el-select>
              <p>水蒸汽进口分压力: (mbar)</p>
              <el-input v-model="form.vapour" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h4>2、 冷介质</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>水流量: (m³/h)</p>
              <el-input
                v-model="form.water_flow"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>水工作压力: (MPa(A))</p>
              <el-input
                v-model="form.water_stress"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>污垢系数: (m2.℃/W)</p>
              <el-input
                v-model="form.water_dirt"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>水进口温度: (℃)</p>
              <el-input
                v-model="form.water_temp"
                @blur="hot_air"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>水侧允许压降: (Mpa)</p>
              <el-input
                v-model="form.water_drop"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
        </el-row>

        <h4>3、 结构参数</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>管程:</p>
              <el-input
                v-model="form.structure_one"
                :disabled="true"
              ></el-input>
              <p>冷却管材料: (M)</p>
              <el-input v-model="form.structure_three"></el-input>
              <p>冷却管外径: (mm)</p>
              <el-input
                v-model="form.structure_five"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>翅片材料:</p>
              <el-input v-model="form.structure_seven"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>壳程:</p>
              <el-input
                v-model="form.structure_two"
                :disabled="true"
              ></el-input>
              <p>冷却管导热系数: (w/m·k)</p>
              <el-input
                v-model="form.structure_four"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>冷却管壁厚: (mm)</p>
              <el-input
                v-model="form.structure_six"
                @blur="valid"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>翅片效率:</p>
              <el-input
                v-model="form.structure_eight"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>二、 物性参数及散热器功率:</h3>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>空气平均温度: (℃)</p>
              <el-input
                v-model="form.average_temperature"
                :disabled="true"
              ></el-input>
              <p>空气密度(进): (kg/m³)</p>
              <el-input v-model="form.air_entrance" :disabled="true"></el-input>
              <p>空气密度: (kg/m³)</p>
              <el-input v-model="form.air_density" :disabled="true"></el-input>
              <p>空气导热系数: (W/(m.s))</p>
              <el-input
                v-model="form.air_conduction"
                :disabled="true"
              ></el-input>
              <p>空气普郎特数:</p>
              <el-input v-model="form.air_prandtl" :disabled="true"></el-input>
              <p>干空气质量流量: (kg/s)</p>
              <el-input v-model="form.air_flow" :disabled="true"></el-input>
              <p>出口水蒸气饱和分压: (bar)</p>
              <el-input v-model="form.exit_vapour" :disabled="true"></el-input>
              <p>湿空气中的水析出率: (g/kg(干空气))</p>
              <el-input
                v-model="form.air_probability"
                :disabled="true"
              ></el-input>
              <p>进口温度空气焓值: (kJ/kg)</p>
              <el-input
                v-model="form.entrance_enthalpy"
                :disabled="true"
              ></el-input>
              <p>析湿系数:</p>
              <el-input v-model="form.coefficient" :disabled="true"></el-input>
            </div>
          </el-col>

          <el-col :span="12">
            <div class="grid-content">
              <p>&nbsp;</p>
              <el-input class="none"></el-input>
              <p>空气密度(出): (kg/m³)</p>
              <el-input v-model="form.air_exit" :disabled="true"></el-input>
              <p>空气比热: (kJ/(kg.℃))</p>
              <el-input v-model="form.air_specific" :disabled="true"></el-input>
              <p>空气动力粘度(xE-6): (kg/(m.s))</p>
              <el-input v-model="form.air_power" :disabled="true"></el-input>
              <p>空气质量流量: (kg/s)</p>
              <el-input v-model="form.air_quality" :disabled="true"></el-input>
              <p>干空气放出热量: (kW)</p>
              <el-input v-model="form.air_emit" :disabled="true"></el-input>
              <p>出口饱和湿空气含湿量: (g/kg(干空气))</p>
              <el-input
                v-model="form.exit_saturation"
                :disabled="true"
              ></el-input>
              <p>湿空气中的水析出量: (g/s)</p>
              <el-input v-model="form.air_measure" :disabled="true"></el-input>
              <p>出口温度空气焓值: (kJ/kg)</p>
              <el-input
                v-model="form.exit_enthalpy"
                :disabled="true"
              ></el-input>
              <p>湿空气放出的总热量: (kW)</p>
              <el-input v-model="form.air_total" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>&nbsp;</p>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>&nbsp;</p>
            </div>
          </el-col>
        </el-row>

        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>水平均温度: (℃)</p>
              <el-input
                v-model="form.averageCopy"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>水平均温度: (℃)</p>
              <el-input
                v-model="form.average"
                :disabled="true"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>出水温度: (℃)</p>
              <el-input v-model="form.effluent" :disabled="true"></el-input>
              <p>水的比热: (kJ/(kg.℃))</p>
              <el-input v-model="form.water_heat" :disabled="true"></el-input>
              <p>水的动力粘度(xE-6): (kg/(m.s))</p>
              <el-input v-model="form.water_power" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>&nbsp;</p>
              <el-input class="none"></el-input>
              <p>水温差: (℃)</p>
              <el-input v-model="form.difference" :disabled="true"></el-input>
              <p>水的密度: (kg/m³)</p>
              <el-input
                v-model="form.water_density"
                :disabled="true"
              ></el-input>
              <p>水的导热系数: (W/(m.s))</p>
              <el-input
                v-model="form.water_conduction"
                :disabled="true"
              ></el-input>
              <p>水的普郎特数: (W/(m.s))</p>
              <el-input v-model="form.water_ludwig" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>三、 对数平均温差:</h3>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>热空气进口端温差: (℃)</p>
              <el-input
                v-model="form.hot_air_entrance"
                :disabled="true"
              ></el-input>
              <p>P=</p>
              <el-input v-model="form.p_equal" :disabled="true"></el-input>
              <p>温差校正系数:</p>
              <el-input
                v-model="form.revise"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>热空气出口端温差: (℃)</p>
              <el-input v-model="form.hot_air_exit" :disabled="true"></el-input>
              <p>R=</p>
              <el-input v-model="form.r_equal" :disabled="true"></el-input>
              <p>∆tm=</p>
              <el-input v-model="form.tm_equal" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>四、 工作参数计算:</h3>
        <el-row :gutter="24">
          <el-col :span="8">
            <div class="grid-content">
              <p>迎风面的有效长度: (mm)</p>
              <el-input
                v-model="form.length"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>使用元件为BZ180，翅片管间距为: (mm)</p>
              <el-input
                v-model="form.margin"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
          <el-col :span="8">
            <div class="grid-content">
              <p>迎风面的有效宽度: (mm)</p>
              <el-input
                v-model="form.width"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>管侧流程为: (mm)</p>
              <el-input
                v-model="form.Tube_side"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
          <el-col :span="8">
            <div class="grid-content">
              <p>冷却管深度: (排)</p>
              <el-input
                v-model="form.depth"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>壳侧流程为:</p>
              <el-input
                v-model="form.shell_side"
                :disabled="true"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
            </div>
          </el-col>
        </el-row>

        <h4>1、 元件特性</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>每平米每排换热面积: (m²/(m².排))</p>
              <el-input v-model="form.transfer" :disabled="true"></el-input>
              <p>产品换热面积: (m²)</p>
              <el-input v-model="form.product" :disabled="true"></el-input>
              <p>气侧有效通道当量直径: (mm)</p>
              <el-input v-model="form.diameter" :disabled="true"></el-input>
              <p>冷却管根数:</p>
              <el-input v-model="form.cooling" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>迎风面面积: (m²)</p>
              <el-input v-model="form.windward" :disabled="true"></el-input>
              <p>气侧有效通道截面系数:</p>
              <el-input v-model="form.aisle" :disabled="true"></el-input>
              <p>肋化系数:</p>
              <el-input v-model="form.rib" :disabled="true"></el-input>
              <p>水侧有效通道当量直径: (mm)</p>
              <el-input v-model="form.valid" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h4>2、 水侧</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>有效通道面积: (m²)</p>
              <el-input v-model="form.area" :disabled="true"></el-input>
              <p>管侧Reynolds: (m²)</p>
              <el-input v-model="form.Reynolds" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>冷却水线性流速: (m/s)</p>
              <el-input v-model="form.velocity" :disabled="true"></el-input>
              <p>管侧换热系数: (W/(m².℃))</p>
              <el-input v-model="form.factor" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h4>3、 气侧</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>有效通道面积: (m²)</p>
              <el-input v-model="form.areaCopy" :disabled="true"></el-input>
              <p>气侧线性流速: (m/s)</p>
              <el-input v-model="form.wire" :disabled="true"></el-input>
              <p>气侧换热系数: (W/(m².℃))</p>
              <el-input v-model="form.gas_heat" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>空气质量流速: (kg/(m².s))</p>
              <el-input v-model="form.velocityCopy" :disabled="true"></el-input>
              <p>气侧Reynolds:</p>
              <el-input v-model="form.gas_Reynolds" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>五、 总传热系数:</h3>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>无污垢总传热系数: (W/(m².℃))</p>
              <el-input v-model="form.have_dirt" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>有污垢总传热系数: (W/(m².℃))</p>
              <el-input v-model="form.none_dirt" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>六、 换热器面积及设计裕度:</h3>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>计算换热面积: (m²)</p>
              <el-input v-model="form.compute" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>面积设计裕度: (%)</p>
              <el-input v-model="form.design" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>

        <h3>七、 阻力计算:</h3>
        <h4>1、 管程</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>管嘴通径: (mm)</p>
              <el-input
                v-model="form.mouth_diameter"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>磨擦系数:</p>
              <el-input
                v-model="form.mouth_friction"
                :disabled="true"
              ></el-input>
              <p>回弯阻力: (MPa)</p>
              <el-input v-model="form.bend_nowel" :disabled="true"></el-input>
              <p>管程阻力: (MPa)</p>
              <el-input v-model="form.bends_nowel" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>管嘴流速: (m/s)</p>
              <el-input
                v-model="form.mouth_velocity"
                :disabled="true"
              ></el-input>
              <p>沿程阻力: (MPa)</p>
              <el-input v-model="form.mouth_nowel" :disabled="true"></el-input>
              <p>管嘴阻力: (MPa)</p>
              <el-input v-model="form.pipe_nowel" :disabled="true"></el-input>
              <p>管程阻力: (MPa)</p>
              <el-input v-model="form.pipes_nowel" :disabled="true"></el-input>
            </div>
          </el-col>
        </el-row>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>
                压降结果:
                <span v-if="result">合格</span>
                <span v-else>压降超出</span>
              </p>
            </div>
          </el-col>
        </el-row>

        <h4>2、 气程</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>管嘴通径(进): (mm)</p>
              <el-input
                v-model="form.gases_diameter"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>管嘴流速(进): (m/s)</p>
              <el-input
                v-model="form.gases_velocity"
                :disabled="true"
              ></el-input>
              <p>管嘴阻力(进): (KPa)</p>
              <el-input v-model="form.gases_nowel" :disabled="true"></el-input>
              <p>管束阻力: (KPa)</p>
              <el-input
                v-model="form.gases_control"
                :disabled="true"
              ></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>管嘴通径(出): (mm)</p>
              <el-input
                v-model="form.gases_diameterc"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>管嘴流速(出): (m/s)</p>
              <el-input
                v-model="form.gases_velocityc"
                :disabled="true"
              ></el-input>
              <p>管嘴阻力(出): (KPa)</p>
              <el-input v-model="form.gases_nowelc" :disabled="true"></el-input>
              <p>气程阻力: (KPa)</p>
              <el-input
                v-model="form.gases_controlc"
                :disabled="true"
              ></el-input>
            </div>
          </el-col>
        </el-row>
        <h4>丝网</h4>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>网丝直径: (mm)</p>
              <el-input
                v-model="form.twine_diameter"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>空隙率:</p>
              <el-input
                v-model="form.twine_lacuna"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>系数K1:</p>
              <el-input
                v-model="form.twine_K1"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>阻力: (KPa)</p>
              <el-input v-model="form.twine_nowel" :disabled="true"></el-input>
              <p>入口流通处通道面积: (m²)</p>
              <el-input v-model="form.twine_area" :disabled="true"></el-input>
              <p>入口流通处压降: (KPa)</p>
              <el-input v-model="form.twine_stress" :disabled="true"></el-input>
              <p>出口流通处流速: (m/s)</p>
              <el-input v-model="form.twine_rate" :disabled="true"></el-input>
              <p>气程总阻力: (KPa)</p>
              <el-input v-model="form.twine_total" :disabled="true"></el-input>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="grid-content">
              <p>网层厚度: (mm)</p>
              <el-input
                v-model="form.twine_thickness"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>磨擦系数:</p>
              <el-input
                v-model="form.twine_rub"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>操作气速: (m/s)</p>
              <el-input v-model="form.twine_handle" :disabled="true"></el-input>
              <p>H(入口处最短距离): (mm)</p>
              <el-input
                v-model="form.twine_distance"
                oninput="value=value.replace(/[^\d.]/g,'')"
              ></el-input>
              <p>入口流通处流速: (m/s)</p>
              <el-input v-model="form.twine_flow" :disabled="true"></el-input>
              <p>出口流通处通道面积: (m²)</p>
              <el-input v-model="form.twine_export" :disabled="true"></el-input>
              <p>出口流通处压降: (KPa)</p>
              <el-input
                v-model="form.twine_pressure"
                :disabled="true"
              ></el-input>
            </div>
          </el-col>
        </el-row>
        <el-row :gutter="24">
          <el-col :span="12">
            <div class="grid-content">
              <p>
                压降结果:
                <span v-if="resultTwo">合格</span>
                <span v-else>压降超出</span>
              </p>
            </div>
          </el-col>
        </el-row>
      </div>

      <div id="home" v-show="!showPage">
        <el-row>
          <el-col :span="10" style="text-align: right; padding-right: 10px">
            <el-image
              style="width: 80px; height: 80px"
              src="./img/img.jpg"
            ></el-image>
          </el-col>
          <el-col :span="14" class="langsen">
            <h2>湖 北 朗 森 热 工 工 程 有 限 公 司</h2>
            <h4>Hubei Langsen Thermal Engineering CO. , LTD</h4>
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="10" style="text-align: right;">
            <span>Tel：086</span>
          </el-col>
          <el-col :span="12" style="text-align: left">
            <span>-0714-6382398</span>
            <span style="margin-left: 60px">Fax：086-0714-6382078</span>
          </el-col>
        </el-row>
        <p style="border: 0;">热 工 性 能 计 算 书</p>
        <p class="Calculation">Mechanical and Heat Calculation</p>
        <div class="fl">
          <span>LS NO.</span>
          <span class="fr">Rev.0</span>
        </div>
        <div style="width: 90%; margin: 0 auto">
          <el-row class="border">
            <el-col :span="2">
              <p>序号 NO.</p>
              <p>1</p>
              <p>2</p>
              <p>3</p>
              <p>4</p>
              <p>5</p>
              <p>6</p>
              <p>7</p>
              <p>8</p>
              <p>9</p>
              <p>10</p>
              <p>11</p>
              <p>12</p>
              <p style="height: 81px;line-height: 81px;">13</p>
              <p>14</p>
              <p>15</p>
              <p>16</p>
              <p>17</p>
              <p>18</p>
            </el-col>
            <el-col :span="9">
              <p>主 要 参 数 Name</p>
              <p v-for="(item, index) in tableData">{{ item.name }}</p>
              <p style="height: 81px;line-height: 81px;">
                迎风面尺寸：Windward Size
              </p>
              <p v-for="(item, index) in tableDataTwo">{{ item.name }}</p>
            </el-col>
            <el-col :span="3">
              <p>符 号 Symbol</p>
              <p v-for="(item, index) in tableData">{{ item.symbol }}</p>
              <p style="height: 81px;line-height: 81px;"></p>
              <p v-for="(item, index) in tableDataTwo">{{ item.symbol }}</p>
            </el-col>
            <el-col :span="3">
              <p>单 位 Unit</p>
              <p v-for="(item, index) in tableData">{{ item.unit }}</p>
              <p style="height: 81px;line-height: 81px;">mm</p>
              <p v-for="(item, index) in tableDataTwo">{{ item.unit }}</p>
            </el-col>
            <el-col :span="7" class="rightBorder">
              <p>数 值 Numeral Value</p>
              <p>{{ heatRelease }}（冷凝水{{ heatReleaseTwo }}kg/hr）</p>
              <el-row>
                <!-- 水 -->
                <el-col :span="12">
                  <p>{{ form.structure_one }} Water</p>
                  <p>{{ form.water_flow }}m3/hr</p>
                  <p>{{ form.water_density }}</p>
                  <p>{{ form.water_heat * 1000 }}</p>
                  <p>{{ form.water_temp }}/{{ form.effluent }}</p>
                  <p>{{ form.difference }}</p>
                  <p>{{ form.water_dirt }}</p>
                </el-col>
                <!-- 空气 -->
                <el-col :span="12" class="leftBorder">
                  <p>{{ form.structure_two }} Air</p>
                  <p>{{ form.air_quality }}Kg/S</p>
                  <p>{{ form.air_density }}</p>
                  <p>{{ form.specific }}</p>
                  <p>{{ form.entrance }}/{{ form.exit }}</p>
                  <p>{{ form.entrance - form.exit }}</p>
                  <p>{{ form.dirt }}</p>
                </el-col>
              </el-row>
              <p>{{ form.tm_equal }}</p>
              <p>{{ form.none_dirt }}</p>
              <p>{{ form.compute }}</p>
              <p>{{ form.product }}</p>
              <el-row>
                <!-- 水 -->
                <el-col :span="12">
                  <p>长度(L)：{{ form.length }}</p>
                  <p>深度(D)：{{ form.depth * 29 }}</p>
                  <p>{{ form.area }}</p>
                  <p>{{ form.Tube_side }}</p>
                  <p>{{ form.velocity }}m/s</p>
                  <p>{{ waterPressureLossOfMedium }}</p>
                </el-col>
                <!-- 空气 -->
                <el-col :span="12" class="leftBorder">
                  <p>宽度(W)：{{ form.width }}</p>
                  <p>片距(h)：{{ form.margin }}</p>
                  <p>{{ form.areaCopy }}</p>
                  <p>{{ form.shell_side }}</p>
                  <p>{{ form.velocityCopy }}kg/(m2.s)</p>
                  <p>{{ airPressureLossOfMedium }}</p>
                </el-col>
              </el-row>
              <p>{{ form.design }}</p>
            </el-col>
          </el-row>
          <el-row>
            <el-col :span="2">
              <p>19</p>
              <p>20</p>
            </el-col>
            <el-col :span="8">
              <p>冷却器型号 Type of Cooler</p>
              <p>用户 Consumer</p>
            </el-col>
            <el-col :span="14" class="rightBorder">
              <p>
                K-SK{{ form.product }}({{ form.structure_three }}管φ{{
                  form.structure_five
                }}×{{ form.structure_six }}, LST180{{
                  form.structure_seven
                }}翅片)
              </p>
              <p></p>
            </el-col>
          </el-row>
        </div>
      </div>
      <div class="button">
        <el-button type="primary" @click="switchPage">{{
          showBtnLabel
        }}</el-button>
      </div>
    </div>

    <script>
      //创建 Vue 实例,得到ViewModel
      var vm = new Vue({
        el: '#app',
        data: {
          a: '',
          form: {
            // 热介质
            flow: '', // 空气流量
            temperature: '', // 进口温度
            entrance: '', // 空气进口温度
            stress: '', // 进口压力
            exit: '', // 空气出口温度
            humidity: '', // 相对湿度
            depressurization: '', // 空气允许压降
            standard_density: 1.293, // 标准-进口密度

            dirt: '', // 污垢系数
            vapour: '', // 水蒸汽进口分压力 需查询参数表
            airHumidity: '', // 空气湿度 需计算
            molecule: '', // 介质平均分子量 需计算
            inletPressure: '', // 空气进口压力
            gases: '', // 气体常数 需计算

            // 冷介质
            water_flow: '', // 水流量
            water_temp: '', // 水进口温度
            water_stress: '', // 水工作压力
            water_drop: '', // 水侧允许压降
            water_dirt: '', // 污垢系数

            // 结构参数
            structure_one: '冷却水', // 管程
            structure_two: '空气', // 壳程
            structure_three: '', // 冷却管材料
            structure_four: '', // 冷却管导热系数
            structure_five: '', // 冷却管外径
            structure_six: '', // 冷却管壁厚
            structure_seven: '', // 翅片材料
            structure_eight: '', // 翅片效率

            // 物性参数及散热器功率
            average_temperature: '', // 空气平均温度
            air_entrance: '', // 空气密度(进)
            air_exit: '', // 空气密度(出)
            air_density: '', // 空气密度
            air_specific: '', // 空气比热
            specific: '', // 结果页比热
            air_conduction: '', // 空气导热系数
            air_power: '', // 空气动力粘度
            air_prandtl: '', // 空气普郎特数
            air_quality: '', // 空气质量流量
            air_flow: '', // 干空气质量流量
            air_emit: '', // 干空气放出热量
            exit_vapour: '', // 出口水蒸气饱和分压
            exit_saturation: '', // 出口饱和湿空气含湿量
            air_probability: '', // 湿空气中的水析出率
            air_measure: '', // 湿空气中的水析出量
            entrance_enthalpy: '', // 进口温度空气焓值
            exit_enthalpy: '', // 出口温度空气焓值
            coefficient: '', // 析湿系数
            air_total: '', // 湿空气放出的总热量

            averageCopy: '', // 用作计算
            effluent: '', // 出水温度
            difference: '', // 水温差
            average: '', // 水平均温度 这两个水平均温度需求暂不明确，先出输入框，等明确需求在调整
            water_density: '', // 水的密度
            water_heat: '', // 水的比热
            water_conduction: '', // 水的导热系数
            water_power: '', // 水的动力粘度(xE-6)
            water_ludwig: '', // 水的普郎特数

            // 对数平均温差
            hot_air_entrance: '', // 热空气进口端温差
            hot_air_exit: '', // 热空气出口端温差
            p_equal: '',
            r_equal: '',
            revise: '', // 温差校正系数
            tm_equal: '',

            // 工作参数计算
            length: '', // 迎风面的有效长度
            width: '', // 迎风面的有效宽度
            depth: '', // 冷却管深度
            margin: '', // 翅片管间距
            Tube_side: '', // 管侧流程为
            shell_side: 1, // 壳侧流程为

            // 元件特性
            transfer: '', // 每平米每排换热面积
            windward: '', // 迎风面面积
            product: '', // 产品换热面积
            aisle: '', // 气侧有效通道截面系数
            diameter: '', // 气侧有效通道当量直径
            rib: '', // 肋化系数
            cooling: '', // 冷却管根数
            valid: '', // 水侧有效通道当量直径

            // 水侧
            area: '', // 有效通道面积
            velocity: '', // 冷却水线性流速
            Reynolds: '', // 管侧Reynolds
            factor: '', // 管侧换热系数

            // 气侧
            areaCopy: '', // 有效通道面积
            velocityCopy: '', // 空气质量流速
            wire: '', // 气侧线性流速
            gas_Reynolds: '', // 气侧Reynolds
            gas_heat: '', // 气侧换热系数

            // 总传热系数
            have_dirt: '', // 无污垢总传热系数
            none_dirt: '', // 有污垢总传热系数

            // 换热器面积及设计裕度
            compute: '', // 计算换热面积
            design: '', // 面积设计裕度

            // 阻力计算-管程
            mouth_diameter: '', // 管嘴通径
            mouth_velocity: '', // 管嘴流速
            mouth_friction: '', // 磨擦系数
            mouth_nowel: '', // 沿程阻力
            bend_nowel: '', // 回弯阻力
            pipe_nowel: '', // 管嘴阻力
            bends_nowel: '', // 管程阻力
            pipes_nowel: '', // 管程阻力

            // 气程
            gases_diameter: '', // 管嘴通径(进)
            gases_diameterc: '', // 管嘴通径(出)
            gases_velocity: '', // 管嘴流速(进)
            gases_velocityc: '', // 管嘴流速(出)
            gases_nowel: '', // 管嘴阻力(进)
            gases_nowelc: '', // 管嘴阻力(出)
            gases_control: '', // 管束阻力
            gases_controlc: '', // 气程阻力

            // 丝网
            twine_diameter: '', // 网丝直径
            twine_lacuna: '', // 空隙率
            twine_K1: '', // 系数K1
            twine_thickness: '', // 网层厚度
            twine_rub: '', // 磨擦系数
            twine_handle: '', // 操作气速
            twine_nowel: '', // 阻力
            twine_distance: '', // H(入口处最短距离)
            twine_area: '', // 入口流通处通道面积
            twine_flow: '', // 入口流通处流速
            twine_stress: '', // 入口流通处压降
            twine_export: '', // 出口流通处通道面积
            twine_rate: '', // 出口流通处流速
            twine_pressure: '', // 出口流通处压降
            twine_total: '' // 气程总阻力
          },
          constant: 273.15,
          result: true,
          resultTwo: true,
          showPage: false, //切换页面
          showBtnLabel: '热工性能计算书',
          heatRelease: '', //换热器功率
          heatReleaseTwo: '',
          waterPressureLossOfMedium: '',
          airPressureLossOfMedium: '',
          options: [
            {
              value: 1.293,
              label: 1.293
            },
            {
              value: 0,
              label: 0
            }
          ],
          tableData: [
            {
              name: '换热器功率 Heat Release',
              symbol: 'Q',
              unit: 'KW'
            },
            {
              name: '介质种类 Medium Type',
              symbol: '',
              unit: ''
            },
            {
              name: '介质流量 Medium Flow ',
              symbol: 'G',
              unit: ''
            },
            {
              name: '介质密度 Medium Density  ',
              symbol: 'ρ',
              unit: 'Kg/m³'
            },
            {
              name: '介质比热 Medium Specific Heat ',
              symbol: 'Cp',
              unit: 'J/Kg·℃'
            },
            {
              name: '介质进/出口温度 In/Out Temperature of Medium',
              symbol: 't₁/t₂',
              unit: '℃'
            },
            {
              name: '介质温差 Medium Range of Temperature',
              symbol: 'Δt',
              unit: '℃'
            },
            {
              name: '污垢系数 Fouling Factor',
              symbol: 'rd',
              unit: 'm²·℃/w'
            },
            {
              name: '对数平均温差 Logarithmic Mean Temperature Press',
              symbol: 'θm',
              unit: '℃'
            },
            {
              name: '传热系数 Heat Transfer Coefficient',
              symbol: 'K',
              unit: '℃W/m².℃'
            },
            {
              name: '计算所需冷却面积 Calculated Radiating Area',
              symbol: 'S＇',
              unit: 'm²'
            },
            {
              name: '实际冷却面积(B×L×H) Actual Radiating Area',
              symbol: 'S',
              unit: 'm²'
            }
          ],
          tableDataTwo: [
            {
              name: '介质流通截面积  Flow Area of Medium',
              symbol: 'f',
              unit: 'm²'
            },
            {
              name: '介质流程  Flow Number of Medium',
              symbol: 'n',
              unit: ''
            },
            {
              name: '介质流速  Velocity of Medium ',
              symbol: 'ω',
              unit: ''
            },
            {
              name: '介质压力损失 Pressure Loss of Medium ',
              symbol: 'ΔP',
              unit: 'Kpa'
            },
            {
              name: '散热面积储备系数 Reserve Coefficient of Radiating',
              symbol: 'α',
              unit: '%'
            }
          ]
        },
        created() {
          this.array = water;
        },
        watch: {
          form: {
            handler(val) {
              if (val.pipes_nowel < val.water_drop) {
                this.result = true;
              } else {
                this.result = false;
              }
              if (val.twine_total < val.depressurization) {
                this.resultTwo = true;
              } else {
                this.resultTwo = false;
              }
              if (!val.temperature) {
                val.vapour = '';
              } else {
                this.countGases();
              }

              if (!val.inletPressure) {
                val.average_temperature = '';
                val.air_entrance = '';
                val.air_density = '';
                val.air_specific = '';
                val.air_conduction = '';
                val.air_power = '';
                val.air_prandtl = '';
                val.air_quality = '';
                val.air_flow = '';
                val.air_emit = '';
                val.exit_vapour = '';
                val.exit_saturation = '';
                val.air_probability = '';
                val.air_measure = '';
                val.entrance_enthalpy = '';
                val.exit_enthalpy = '';
                val.coefficient = '';
                val.air_total = '';
              } else {
                this.inlet_fun();
              }
              if (!val.revise) {
                val.tm_equal = '';
              } else {
                this.revises();
              }
              if (!val.averageCopy) {
                val.water_density = '';
                val.water_heat = '';
                val.water_conduction = '';
                val.water_power = '';
                val.water_ludwig = '';
                val.difference = '';
                val.effluent = '';
                val.average = '';
                val.hot_air_entrance = '';
                val.p_equal = '';
                val.r_equal = '';
              } else {
                this.inquire();
              }
              if (!val.margin) {
                val.transfer = '';
                val.product = '';
                val.aisle = '';
                val.diameter = '';
                val.rib = '';
                val.areaCopy = '';
                val.velocityCopy = '';
                val.wire = '';
                val.gas_Reynolds = '';
                val.gas_heat = '';
              } else {
                this.margin_fun();
              }
              if (!val.width) {
                val.windward = '';
              } else {
                this.width_fun();
              }
              if (!val.Tube_side) {
                val.area = '';
                val.velocity = '';
                val.Reynolds = '';
                val.factor = '';
                val.mouth_friction = '';
                val.bend_nowel = '';
                val.mouth_nowel = '';
                val.bends_nowel = '';
                val.pipes_nowel = '';
                val.have_dirt = '';
                val.none_dirt = '';
                val.compute = '';
                val.design = '';
                val.gases_control = '';
              } else {
                this.area();
              }
              if (!val.depth) {
                val.cooling = '';
                val.area = '';
              } else {
                this.depth_fun();
              }
              if (!val.mouth_diameter) {
                val.mouth_velocity = '';
                val.pipe_nowel = '';
                val.pipes_nowel = '';
              } else {
                this.mouth();
              }
              if (!val.gases_diameter) {
                val.gases_velocity = '';
                val.gases_nowel = '';
              } else {
                this.qicheng_fun();
              }
              if (!val.gases_diameterc) {
                val.gases_velocityc = '';
                val.gases_nowelc = '';
                val.gases_controlc = '';
              } else {
                this.diameterc_fun();
              }
              if (!val.twine_K1) {
                val.twine_handle = '';
                val.twine_nowel = '';
              } else {
                this.twine_fun();
              }
              if (!val.twine_distance) {
                val.twine_area = '';
                val.twine_flow = '';
                val.twine_stress = '';
                val.twine_export = '';
                val.twine_rate = '';
                val.twine_pressure = '';
                val.twine_total = '';
              } else {
                this.distance();
              }
            },
            deep: true,
            immediate: true
          }
        },
        methods: {
          isNaN(x) {
            if (!isNaN(Number(x))) {
              return true;
            } else {
              return false;
            }
          },
          count_gases(index) {
            if (index) {
              let gases_num = Number(index) + this.constant;
              let type = gases_num.toString();
              for (let i = 0; i < this.array[0].length; i++) {
                let a = this.array[0][i].indexOf(type);
                if (a >= 0) {
                  return this.array[0][i];
                }
              }
              return [];
            }
          },
          countGases() {
            let temperature = this.form.temperature;
            if (temperature) {
              let arr = this.count_gases(temperature);
              if (arr.length > 0) {
                this.form.vapour = arr[2];
              } else {
                this.form.vapour = '';
              }
            } else {
              this.form.vapour = '';
            }
          },
          count() {
            // 空气湿度计算
            if (this.form.vapour && this.form.humidity && this.form.stress) {
              let vapour = this.form.vapour;
              let humidity = this.form.humidity;
              let stress = this.form.stress;
              let num_c =
                (622.26 * vapour * humidity) /
                (Math.pow(stress * 10, 3) - vapour * humidity);
              this.form.airHumidity = num_c.toFixed(3);

              // 介质平均分子量计算
              let sun_a =
                28.959 * (Math.pow(stress * 10, 3) - vapour * humidity) +
                vapour * humidity * 18.02;
              let sum_b = Math.pow(stress * 10, 3);
              let sum_c = sun_a / sum_b;
              this.a = sum_c;
              this.form.molecule = sum_c.toFixed(2);

              this.gases();
              return num_c;
            } else {
              this.form.airHumidity = '';
              this.form.molecule = '';
              this.form.gases = '';
            }
          },
          gases() {
            // 气体常数
            let num = 8314.3 / this.a;
            this.form.gases = num.toFixed(2);
            return num;
          },
          inlet_fun() {
            if (this.form.exit) {
              this.temperature();
              this.entrance();
              this.exit();
              this.density();
              this.specific();
              this.conduction();
              this.power();
              this.prandtl();
              this.standard();
              this.airEmit();
              this.exitVapour();
              this.saturation();
              this.probability();
              this.entrances();
              this.enthalpy();
              this.coefficient();
              this.total();
            } else {
              this.form.average_temperature = '';
              this.form.air_entrance = '';
              this.form.air_density = '';
              this.form.air_specific = '';
              this.form.air_conduction = '';
              this.form.air_power = '';
              this.form.air_prandtl = '';
              this.form.air_quality = '';
              this.form.air_flow = '';
              this.form.air_emit = '';
              this.form.exit_vapour = '';
              this.form.exit_saturation = '';
              this.form.air_probability = '';
              this.form.air_measure = '';
              this.form.entrance_enthalpy = '';
              this.form.exit_enthalpy = '';
              this.form.coefficient = '';
              this.form.air_total = '';
            }
          },
          temperature() {
            // 空气平均温度
            if (this.form.entrance) {
              let num =
                (Number(this.form.entrance) + Number(this.form.exit)) / 2;
              if (!isNaN(Number(num))) {
                this.form.average_temperature = num;
              }
            }
          },
          entrance() {
            // 空气密度(进)
            if (
              this.form.inletPressure &&
              this.form.gases &&
              this.form.entrance
            ) {
              let gases = this.gases();
              let num_a = this.form.inletPressure * Math.pow(10, 6);
              let num_b =
                gases * (this.constant + parseInt(this.form.entrance));
              let num_c = num_a / num_b;
              if (this.isNaN(num_c)) {
                this.form.air_entrance = num_c.toFixed(3);
              } else {
                this.form.air_entrance = '';
              }
              return num_c;
            }
          },
          exit() {
            // 空气密度(出)
            if (this.form.inletPressure && this.form.gases && this.form.exit) {
              let gases = this.gases();
              let num_a = this.form.inletPressure * Math.pow(10, 6);
              let num_b = gases * (this.constant + parseInt(this.form.exit));
              let num_c = num_a / num_b;
              if (this.isNaN(num_c)) {
                this.form.air_exit = num_c.toFixed(3);
              } else {
                this.form.air_exit = '';
              }

              return num_c;
            } else {
              this.form.air_exit = '';
            }
          },
          density() {
            // 空气密度
            if (
              this.form.inletPressure &&
              this.form.gases &&
              this.form.average_temperature
            ) {
              let gases = this.gases();
              let num_a = this.form.inletPressure * Math.pow(10, 6);
              let num_b =
                gases *
                (this.constant + Math.round(this.form.average_temperature));
              let num_c = num_a / num_b;
              if (this.isNaN(num_c)) {
                this.form.air_density = num_c.toFixed(3);
              } else {
                this.form.air_density = '';
              }
              return num_c;
            }
          },
          for(value) {
            if (value) {
              let gases_num = Number(value) + this.constant;
              let type = gases_num.toString();
              for (let i = 0; i < this.array[1].length; i++) {
                let a = this.array[1][i].indexOf(type);
                if (a >= 0) {
                  return this.array[1][i];
                }
              }
            }
          },
          specific() {
            // 空气比热
            let average = Math.round(this.form.average_temperature);
            if (average) {
              let arr = this.for(average);
              this.form.air_specific = arr[5];
              this.form.specific = (this.form.air_specific * 1000).toFixed(0);
            }
          },
          conduction() {
            // 空气导热系数
            if (this.form.average_temperature) {
              let v = Math.round(this.form.average_temperature);
              let arr = this.for(v);
              this.form.air_conduction = Number(arr[6]) * Math.pow(10, -2);
              return this.form.air_conduction;
            }
          },
          power() {
            // 空气动力粘度
            if (this.form.average_temperature) {
              let v = Math.round(this.form.average_temperature);
              let arr = this.for(v);
              this.form.air_power = arr[7];
            }
          },
          prandtl() {
            // 空气普郎特数
            if (this.form.average_temperature) {
              let v = Math.round(this.form.average_temperature);
              let arr = this.for(v);
              this.form.air_prandtl = arr[8];
            }
          },
          quality() {
            // 空气质量流量
            if (this.form.flow && this.form.standard_density) {
              let result = (this.form.flow / 60) * this.form.standard_density;
              if (this.isNaN(result)) {
                this.form.air_quality = result.toFixed(2);
              } else {
                this.form.air_quality = '';
              }

              return result;
            }
          },
          standard() {
            this.quality();
            this.airFlow();
          },
          airFlow() {
            // 干空气质量流量
            if (this.form.airHumidity && this.form.air_quality) {
              let result =
                this.form.air_quality * (1 - this.form.airHumidity / 1000);
              if (this.isNaN(result)) {
                this.form.air_flow = result.toFixed(2);
              } else {
                this.form.air_flow = '';
              }

              return result;
            }
          },
          airEmit() {
            // 干空气放出热量
            if (
              this.form.air_flow &&
              this.form.air_specific &&
              this.form.entrance &&
              this.form.exit
            ) {
              const Flow = this.airFlow();
              let i = this.form;
              let result = Flow * i.air_specific * (i.entrance - i.exit);
              if (this.isNaN(result)) {
                i.air_emit = result.toFixed(1);
              } else {
                i.air_emit = '';
              }
            }
          },
          exitVapour() {
            // 出口水蒸气饱和分压
            let exit = this.form.exit;
            if (exit) {
              let arr = this.count_gases(exit);
              this.form.exit_vapour = (arr[2] * Math.pow(10, -3)).toFixed(5);
            }
          },
          saturation() {
            // 出口饱和湿空气含湿量
            let i = this.form;
            if (i.exit_vapour && i.inletPressure) {
              let num_c =
                (622.26 * i.exit_vapour) /
                (i.inletPressure * 10 - i.exit_vapour);
              if (this.isNaN(num_c)) {
                this.form.exit_saturation = num_c.toFixed(5);
              } else {
                this.form.exit_saturation = '';
              }

              return num_c;
            }
          },
          probability() {
            // 湿空气中的水析出率
            if (this.form.airHumidity && this.form.exit_saturation) {
              let exit_saturation = this.saturation();
              let airHumidity = this.count();
              let number = airHumidity - exit_saturation;

              if (this.isNaN(number)) {
                this.form.air_probability = number.toFixed(6);
              } else {
                this.form.air_probability = '';
              }

              this.measure();
            }
          },
          start_change() {
            // 标准-进口密度
            if (this.form.stress && this.form.gases && this.form.temperature) {
              let num_a = this.form.stress * Math.pow(10, 5);
              let num_b =
                this.form.gases * (273 + parseInt(this.form.temperature));
              let num_c = num_a / num_b;
              this.options[1].value = num_c.toFixed(3);
              this.options[1].label = num_c.toFixed(3);
            }
          },
          measure() {
            // 湿空气中的水析出量
            if (this.form.air_probability > 0) {
              this.form.air_measure =
                this.form.air_flow * this.form.air_probability;
            } else {
              this.form.air_measure = 0;
            }
            this.heatReleaseTwo = (this.form.air_measure * 3600) / 1000;
          },
          entrances() {
            // 进口温度空气焓值
            let i = this.form;
            if (i.entrance && i.airHumidity) {
              let airHumidity = this.count();
              let sum_c =
                1.005 * i.entrance +
                (airHumidity / 1000) * (2501 + 1.86 * i.entrance);
              if (this.isNaN(sum_c)) {
                this.form.entrance_enthalpy = sum_c.toFixed(1);
              } else {
                this.form.entrance_enthalpy = '';
              }
              return sum_c;
            }
          },
          enthalpy() {
            // 出口温度空气焓值
            let i = this.form;
            if (i.exit_saturation && i.exit) {
              let sum;
              if (i.air_probability > 0) {
                sum =
                  1.005 * i.exit +
                  (i.exit_saturation / 1000) * (2501 + 1.86 * i.exit);
                if (this.isNaN(sum)) {
                  i.exit_enthalpy = sum.toFixed(5);
                } else {
                  i.exit_enthalpy = '';
                }
              } else {
                let airHumidity = this.count();
                sum =
                  1.005 * i.exit +
                  (airHumidity / 1000) * (2501 + 1.86 * i.exit);
                if (this.isNaN(sum)) {
                  i.exit_enthalpy = sum.toFixed(5);
                } else {
                  i.exit_enthalpy = '';
                }
              }
              return sum;
            }
          },
          coefficient() {
            // 物性参数及散热器功率 -析湿系数
            if (
              this.form.entrance_enthalpy &&
              this.form.exit_enthalpy &&
              this.form.entrance &&
              this.form.exit
            ) {
              let entrances = this.entrances();
              let enthalpy = this.enthalpy();
              let result =
                (entrances - enthalpy) /
                (1.009 * (this.form.entrance - this.form.exit));

              if (this.isNaN(result)) {
                this.form.coefficient = result.toFixed(2);
              } else {
                this.form.coefficient = '';
              }
              return result;
            }
          },
          total() {
            // 湿空气放出的总热量
            if (
              this.form.air_flow &&
              this.form.entrance_enthalpy &&
              this.form.exit_enthalpy
            ) {
              let air_flow = this.airFlow();
              let entrance_enthalpy = this.entrances();
              let exit_enthalpy = this.enthalpy();
              let result = air_flow * (entrance_enthalpy - exit_enthalpy);
              if (this.isNaN(result)) {
                this.form.air_total = result.toFixed(1);
              } else {
                this.form.air_total = '';
              }
              this.heatRelease = Math.floor(result);
              return result;
            }
          },
          inquire() {
            if (this.form.averageCopy) {
              let averageCopy = this.form.averageCopy;
              let arr = this.count_gases(averageCopy);
              this.form.water_density = arr[4]; // 水的密度
              this.form.water_heat = arr[5]; // 水的比热
            } else {
              this.form.water_density = '';
              this.form.water_heat = '';
              this.form.water_conduction = '';
              this.form.water_power = '';
              this.form.water_ludwig = '';
            }
            if (
              this.form.water_density &&
              this.form.water_heat &&
              this.form.air_total &&
              this.form.water_flow &&
              this.form.water_temp
            ) {
              this.effluents(); // 出水温度
              this.differences(); // 水温差
              this.averages(); // 水平均温度
              this.form.water_conduction =
                this.conductions(6) * Math.pow(10, -2); // 水的导热系数
              this.form.water_power = this.conductions(7); // 水的动力粘度(xE-6)
              this.form.water_ludwig = this.conductions(8); // 水的普郎特数
              this.hot_air_entrance(); // 热空气进口端温差
              this.P_equal();
              this.R_equal();
            } else {
              this.form.difference = '';
              this.form.effluent = '';
            }
          },
          effluents() {
            let i = this.form;
            let a = Number(i.water_temp);
            let result =
              a +
              (i.air_total * 3600) /
                (i.water_flow * i.water_density * i.water_heat);
            if (this.isNaN(result)) {
              i.effluent = result.toFixed(1);
            } else {
              i.effluent = '';
            }

            return result;
          },
          differences() {
            let effluent = this.effluents();
            let result = effluent - this.form.water_temp;
            if (this.isNaN(result)) {
              this.form.difference = result.toFixed(1);
            } else {
              this.form.difference = '';
            }

            return result;
          },
          averages() {
            let effluent = this.effluents();
            let result = (effluent + Number(this.form.water_temp)) / 2;
            if (this.isNaN(result)) {
              this.form.average = result.toFixed(2);
            } else {
              this.form.average = '';
            }
          },
          conductions(v) {
            let average = parseInt(this.form.average);
            let arr = this.count_gases(average);
            let result = arr[v];
            return result;
          },
          hot_air_entrance() {
            let effluent = this.effluents();
            let result = this.form.entrance - effluent;
            if (this.isNaN(result)) {
              this.form.hot_air_entrance = result.toFixed(2);
            } else {
              this.form.hot_air_entrance = '';
            }

            return result;
          },
          hot_air() {
            this.hot_air_exit();
          },
          hot_air_exit() {
            if (this.form.exit && this.form.water_temp) {
              let result = this.form.exit - this.form.water_temp;
              if (this.isNaN(result)) {
                this.form.hot_air_exit = result.toFixed(1); // 热空气出口端温差s
              } else {
                this.form.hot_air_exit = '';
              }

              return result;
            }
          },
          P_equal() {
            let difference = this.differences();
            let result = difference / (this.form.entrance - this.form.exit);
            if (this.isNaN(result)) {
              this.form.p_equal = result.toFixed(2);
            } else {
              this.form.p_equal = '';
            }
          },
          R_equal() {
            let difference = this.differences();
            let result = (this.form.entrance - this.form.exit) / difference;
            if (this.isNaN(result)) {
              this.form.r_equal = result.toFixed(1);
            } else {
              this.form.r_equal = '';
            }
          },
          revises() {
            // ∆tm
            let i = this.form;
            if (i.hot_air_entrance && i.hot_air_exit && i.revise) {
              hot_air_entrance = this.hot_air_entrance();
              hot_air_exit = this.hot_air_exit();
              let result =
                ((hot_air_entrance - hot_air_exit) /
                  Math.log(hot_air_entrance / hot_air_exit)) *
                i.revise;
              if (this.isNaN(result)) {
                i.tm_equal = result.toFixed(2);
              } else {
                i.tm_equal = '';
              }

              return result;
            } else {
              i.tm_equal = '';
            }
          },
          margin_fun() {
            if (this.form.margin) {
              var v =
                ((38.1 * 33 - (3.14159 / 4) * Math.pow(16.5 + 2 * 0.12, 2)) *
                  2 +
                  3.14159 * (16.5 + 2 * 0.12) * this.form.margin) /
                (38.1 * this.form.margin);
              if (this.isNaN(v)) {
                this.form.transfer = v.toFixed(1); // 每平米每排换热面积
              } else {
                this.form.transfer = '';
              }
              if (this.form.windward && this.form.depth) {
                let windward = this.width_fun();
                let result = v * windward * this.form.depth;
                if (this.isNaN(result)) {
                  this.form.product = result.toFixed(2); // 产品换热面积
                } else {
                  this.form.product = '';
                }
              }
              this.aisle(this.form.margin);
              this.diameter(this.form.margin);
              this.Rib(
                this.form.margin,
                this.form.structure_five,
                this.form.structure_six
              );
              this.areaCopy();
              this.velocityCopy();
              this.wire();
              this.gas_Reynolds();
              this.gas_heat();
            } else {
              this.form.transfer = '';
              this.form.product = '';
              this.form.aisle = '';
              this.form.diameter = '';
              this.form.rib = '';
              this.form.areaCopy = '';
              this.form.velocityCopy = '';
              this.form.wire = '';
              this.form.gas_Reynolds = '';
              this.form.gas_heat = '';
            }
          },
          width_fun() {
            if (this.form.length && this.form.width) {
              let sum = (this.form.length * this.form.width) / 1000000;
              if (this.isNaN(sum)) {
                this.form.windward = sum.toFixed(3); // 迎风面面积
              } else {
                this.form.windward = '';
              }

              return sum;
            }
          },
          aisle(y) {
            let result = ((38.1 - (16.5 + 2 * 0.12)) * (y - 0.12)) / (38.1 * y);
            if (this.isNaN(result)) {
              this.form.aisle = result.toFixed(3); // 气侧有效通道截面系数
            } else {
              this.form.aisle = '';
            }

            return result;
          },
          diameter(a) {
            if (a) {
              let result =
                (4 * (38.1 - (16.5 + 2 * 0.12)) * (a - 0.12)) /
                (2 * (38.1 - (16.5 + 2 * 0.12) + (a - 0.12)));
              if (this.isNaN(result)) {
                this.form.diameter = result.toFixed(1); // 气侧有效通道当量直径
              } else {
                this.form.diameter = '';
              }

              return result;
            }
          },
          Rib(b, x, z) {
            if (b && x && z) {
              let result =
                ((38.1 * 33 - (3.14159 / 4) * Math.pow(16.5 + 2 * 0.12, 2)) *
                  2 +
                  3.14159 * (16.5 + 2 * 0.12) * b) /
                (3.14159 * (x - 2 * z) * b);
              if (this.isNaN(result)) {
                this.form.rib = result.toFixed(1); // 肋化系数
              } else {
                this.form.rib = '';
              }

              return result;
            } else {
              this.form.rib = '';
            }
          },
          depth_fun() {
            if (this.form.width && this.form.depth) {
              let result =
                (this.form.width / 38.1) * this.form.depth -
                Number(this.form.depth / 2);
              if (this.isNaN(result)) {
                this.form.cooling = result; // 冷却管根数
              } else {
                this.form.cooling = '';
              }
            } else {
              this.form.cooling = '';
              this.form.area = '';
            }
          },
          valid() {
            if (this.form.structure_six) {
              let result = 16.5 - 2 * this.form.structure_six + 0.09;
              if (this.isNaN(result)) {
                this.form.valid = result.toFixed(2); // 水侧有效通道当量直径
              } else {
                this.form.valid = '';
              }
            } else {
              this.form.valid = '';
              this.form.area = '';
            }
          },
          area() {
            if (this.form.cooling && this.form.Tube_side && this.form.valid) {
              this.areas();
              this.velocity();
              this.Reynolds();
              this.factor();
              this.mouthFriction();
              this.bendNowel();
              this.mouthNowel();
              this.bendsNowel();
              this.pipesNowel();
              this.have_dirt();
              this.none_dirt();
              this.Compute();
              this.Design();
              this.gases_control();
            } else {
              this.form.area = '';
              this.form.velocity = '';
              this.form.Reynolds = '';
              this.form.factor = '';
              this.form.mouth_friction = '';
              this.form.bend_nowel = '';
              this.form.mouth_nowel = '';
              this.form.bends_nowel = '';
              this.form.pipes_nowel = '';
              this.form.have_dirt = '';
              this.form.none_dirt = '';
              this.form.compute = '';
              this.form.design = '';
              this.form.gases_control = '';
            }
          },
          areas() {
            if (this.form.cooling && this.form.Tube_side && this.form.valid) {
              let result =
                (((this.form.cooling / this.form.Tube_side) * 3.14159) / 4) *
                Math.pow(this.form.valid / 1000, 2);
              if (this.isNaN(result)) {
                this.form.area = result.toFixed(4); // 有效通道面积
              } else {
                this.form.area = '';
              }
              return result;
            } else {
              this.form.area = '';
            }
          },
          velocity() {
            if (this.form.water_flow) {
              let area = this.areas();
              let result = this.form.water_flow / 3600 / area;
              if (this.isNaN(result)) {
                this.form.velocity = result.toFixed(2); // 冷却水线性流速
              } else {
                this.form.velocity = '';
              }
              return result;
            } else {
              this.form.velocity = '';
            }
          },
          Reynolds() {
            if (
              this.form.water_density &&
              this.form.structure_five &&
              this.form.structure_six &&
              this.form.water_power
            ) {
              let velocity = this.velocity();
              let result =
                (velocity *
                  this.form.water_density *
                  (this.form.structure_five - 2 * this.form.structure_six) *
                  1000) /
                this.form.water_power;
              if (this.isNaN(result)) {
                this.form.Reynolds = result.toFixed(0); // 管侧Reynolds
              } else {
                this.form.Reynolds = '';
              }

              return result;
            }
          },
          factor() {
            let i = this.form;
            if (
              i.water_conduction &&
              i.structure_five &&
              i.structure_six &&
              i.Reynolds &&
              i.water_ludwig
            ) {
              let result =
                ((i.water_conduction * 1000) /
                  (i.structure_five - 2 * i.structure_six)) *
                0.023 *
                Math.pow(i.Reynolds, 0.8) *
                Math.pow(i.water_ludwig, 0.4);
              if (this.isNaN(result)) {
                this.form.factor = result.toFixed(0); // 管侧换热系数
              } else {
                this.form.factor = '';
              }

              return result;
            }
          },
          areaCopy() {
            if (this.form.windward && this.form.aisle) {
              let windward = this.width_fun();
              let aisle = this.aisle(this.form.margin);
              let result = windward * aisle;
              if (this.isNaN(result)) {
                this.form.areaCopy = result.toFixed(4); // 气侧-有效通道面积
              } else {
                this.form.areaCopy = '';
              }

              return result;
            }
          },
          velocityCopy() {
            if (this.form.air_quality && this.form.areaCopy) {
              let quality = this.quality();
              let areaCopy = this.areaCopy();
              let result = quality / areaCopy;
              if (this.isNaN(result)) {
                this.form.velocityCopy = result.toFixed(2); // 空气质量流速
              } else {
                this.form.velocityCopy = '';
              }
              return result;
            }
          },
          wire() {
            if (this.form.velocityCopy && this.form.air_density) {
              let result = this.form.velocityCopy / this.form.air_density;
              if (this.isNaN(result)) {
                this.form.wire = result.toFixed(2); // 气侧线性流速
              } else {
                this.form.wire = '';
              }
            }
          },
          gas_Reynolds() {
            if (
              this.form.velocityCopy &&
              this.form.diameter &&
              this.form.air_power
            ) {
              let velocityCopy = this.velocityCopy();
              let diameter = this.diameter(this.form.margin);
              let result =
                ((velocityCopy * diameter) / 1000 / this.form.air_power) *
                1000000;
              if (this.isNaN(result)) {
                this.form.gas_Reynolds = result.toFixed(0); // 气侧Reynolds
              } else {
                this.form.gas_Reynolds = '';
              }

              return result;
            }
          },
          gas_heat() {
            // 气侧换热系数
            if (
              this.form.air_conduction &&
              this.form.diameter &&
              this.form.gas_Reynolds
            ) {
              let diameter = this.diameter(this.form.margin);
              let Reynolds = this.gas_Reynolds();
              let result =
                ((this.form.air_conduction * 1000) / diameter) *
                0.2045 *
                Math.pow(Reynolds, 0.549);
              if (this.isNaN(result)) {
                this.form.gas_heat = result.toFixed(1);
              } else {
                this.form.gas_heat = '';
              }
              return result;
            }
          },
          mouth() {
            if (this.form.mouth_diameter) {
              this.mouthVelocity();
              this.pipeNowel();
              this.pipesNowel();
            } else {
              this.form.mouth_velocity = '';
              this.form.pipe_nowel = '';
              this.form.pipes_nowel = '';
            }
          },
          mouthVelocity() {
            // 管嘴流速
            if (this.form.water_flow) {
              let result =
                this.form.water_flow /
                3600 /
                ((3.14159 / 4) * Math.pow(this.form.mouth_diameter / 1000, 2));
              if (this.isNaN(result)) {
                this.form.mouth_velocity = result.toFixed(2);
              } else {
                this.form.mouth_velocity = '';
              }

              return result;
            }
          },
          mouthFriction() {
            // 磨擦系数
            if (this.form.Reynolds) {
              let Reynolds = this.Reynolds();
              let result = 0.0056 + 0.5 / Math.pow(Reynolds, 0.32);
              if (this.isNaN(result)) {
                this.form.mouth_friction = result.toFixed(2);
              } else {
                this.form.mouth_friction = '';
              }

              return result;
            }
          },
          mouthNowel() {
            // 沿程阻力
            let i = this.form;
            if (
              i.mouth_friction &&
              i.velocity &&
              i.water_density &&
              i.length &&
              i.Tube_side &&
              i.structure_five &&
              i.structure_six
            ) {
              const mouth_friction = this.mouthFriction();
              const velocity = this.velocity();
              let result =
                (((mouth_friction *
                  Math.pow(velocity * i.water_density, 2) *
                  i.length) /
                  1000) *
                  i.Tube_side) /
                ((2 *
                  i.water_density *
                  (i.structure_five - 2 * i.structure_six)) /
                  1000) /
                1000000;
              if (this.isNaN(result)) {
                i.mouth_nowel = result.toFixed(3);
              } else {
                i.mouth_nowel = '';
              }

              return result;
            } else {
              i.mouth_nowel = '';
            }
          },
          bendNowel() {
            // 回弯阻力
            if (
              this.form.water_density &&
              this.form.Tube_side &&
              this.form.velocity
            ) {
              const velocity = this.velocity();
              let result =
                (4 *
                  Math.pow(velocity * this.form.water_density, 2) *
                  this.form.Tube_side) /
                (2 * this.form.water_density) /
                1000000;
              if (this.isNaN(result)) {
                this.form.bend_nowel = result.toFixed(3);
              } else {
                this.form.bend_nowel = '';
              }

              return result;
            }
          },
          pipeNowel() {
            // 管嘴阻力
            if (this.form.mouth_velocity && this.form.water_density) {
              const velocity = this.mouthVelocity();
              let result =
                ((Math.pow(velocity * this.form.water_density, 2) /
                  2 /
                  this.form.water_density) *
                  1.5) /
                1000000;
              if (this.isNaN(result)) {
                this.form.pipe_nowel = result.toFixed(4);
              } else {
                this.form.pipe_nowel = '';
              }

              return result;
            } else {
              this.form.pipe_nowel = '';
            }
          },
          bendsNowel() {
            // 管程阻力 1
            if (this.form.mouth_nowel && this.form.bend_nowel) {
              const mouth_nowel = this.mouthNowel();
              const bend_nowel = this.bendNowel();
              let result = mouth_nowel + bend_nowel;
              if (this.isNaN(result)) {
                this.form.bends_nowel = result.toFixed(4);
              } else {
                this.form.bends_nowel = '';
              }

              return result;
            }
          },
          pipesNowel() {
            // 管程阻力 2
            if (this.form.pipe_nowel && this.form.bends_nowel) {
              const pipe_nowel = this.pipeNowel();
              const bends_nowel = this.bendsNowel();
              let result = pipe_nowel + bends_nowel;
              if (this.isNaN(result)) {
                this.form.pipes_nowel = result.toFixed(4);
              } else {
                this.form.pipes_nowel = '';
              }

              this.waterPressureLossOfMedium = (result * 1000).toFixed(2);
            }
          },
          have_dirt() {
            let i = this.form;
            if (
              i.structure_eight &&
              i.gas_heat &&
              i.coefficient &&
              i.structure_six &&
              i.structure_four &&
              i.factor &&
              i.rib
            ) {
              const heat = this.gas_heat();
              const coefficient = this.coefficient();
              const factor = this.factor();
              const rib = this.Rib(
                this.form.margin,
                this.form.structure_five,
                this.form.structure_six
              );
              let result =
                i.structure_eight /
                (1 / Number(heat * coefficient) +
                  Number(
                    i.structure_six / 1000 / i.structure_four + 1 / factor
                  ) *
                    rib);

              if (this.isNaN(result)) {
                i.have_dirt = result.toFixed(1); // 无污垢总传热系数
              } else {
                i.have_dirt = '';
              }
            }
          },
          none_dirt() {
            let i = this.form;
            if (
              i.structure_eight &&
              i.gas_heat &&
              i.coefficient &&
              i.structure_six &&
              i.structure_four &&
              i.factor &&
              i.rib &&
              i.dirt &&
              i.water_dirt
            ) {
              const heat = this.gas_heat();
              const coefficient = this.coefficient();
              const factor = this.factor();
              const rib = this.Rib(
                this.form.margin,
                this.form.structure_five,
                this.form.structure_six
              );
              let result =
                i.structure_eight /
                (1 / Number(heat * coefficient) +
                  Number(
                    i.structure_six / 1000 / i.structure_four +
                      1 / factor +
                      Number(i.water_dirt)
                  ) *
                    rib +
                  Number(i.dirt));
              if (this.isNaN(result)) {
                i.none_dirt = result.toFixed(1); // 有污垢总传热系数
              } else {
                i.none_dirt = '';
              }

              return result;
            }
          },
          Compute() {
            if (
              this.form.air_total &&
              this.form.tm_equal &&
              this.form.none_dirt
            ) {
              const air_total = this.total();
              const tm_equal = this.revises();
              const none_dirt = this.none_dirt();
              let result = (air_total * 1000) / tm_equal / none_dirt;
              if (this.isNaN(result)) {
                this.form.compute = result.toFixed(1); // 计算换热面积
              } else {
                this.form.compute = '';
              }

              return result;
            }
          },
          Design() {
            if (this.form.product && this.form.compute) {
              const compute = this.Compute();
              let result = ((this.form.product - compute) / compute) * 100;
              if (this.isNaN(result)) {
                this.form.design = result.toFixed(2); // 面积设计裕度
              } else {
                this.form.design = '';
              }
            }
          },
          qicheng_fun() {
            if (this.form.gases_diameter) {
              this.qicheng();
              this.gases_nowel();
            } else {
              this.form.gases_velocity = '';
              this.form.gases_nowel = '';
            }
          },
          qicheng() {
            // 管嘴流速(进)
            const i = this.form;
            if (i.air_entrance && i.air_quality) {
              const quality = this.quality();
              const entrance = this.entrance();
              let result =
                quality /
                entrance /
                ((3.14159 / 4) * Math.pow(i.gases_diameter / 1000, 2));
              if (this.isNaN(result)) {
                i.gases_velocity = result.toFixed(1);
              } else {
                i.gases_velocity = '';
              }

              return result;
            }
          },
          gases_nowel() {
            // 管嘴阻力(进)
            if (this.form.air_entrance) {
              const entrance = this.entrance();
              const velocity = this.qicheng();
              let result =
                ((Math.pow(velocity * entrance, 2) / 2 / entrance) * 0.75) /
                1000;
              if (this.isNaN(result)) {
                this.form.gases_nowel = result.toFixed(4);
              } else {
                this.form.gases_nowel = '';
              }

              return result;
            }
          },
          diameterc_fun() {
            if (this.form.gases_diameterc) {
              this.diameterc();
              this.gases_nowelc();
              this.gases_controlc();
            } else {
              this.form.gases_velocityc = '';
              this.form.gases_nowelc = '';
              this.form.gases_controlc = '';
            }
          },
          diameterc() {
            // 管嘴流速(出)
            const i = this.form;
            if (i.air_exit && i.air_quality) {
              const quality = this.quality();
              const air_exit = this.exit();
              let result =
                quality /
                air_exit /
                ((3.14159 / 4) * Math.pow(i.gases_diameterc / 1000, 2));
              if (this.isNaN(result)) {
                this.form.gases_velocityc = result.toFixed(1);
              } else {
                this.form.gases_velocityc = '';
              }

              return result;
            }
          },
          gases_nowelc() {
            // 管嘴阻力(出)
            if (this.form.air_exit) {
              const nowelc = this.diameterc();
              const air_exit = this.exit();
              let result =
                ((Math.pow(nowelc * air_exit, 2) / 2 / air_exit) * 0.75) / 1000;
              if (this.isNaN(result)) {
                this.form.gases_nowelc = result.toFixed(4);
              } else {
                this.form.gases_nowelc = '';
              }

              return result;
            }
          },
          gases_control() {
            // 管束阻力
            if (
              this.form.velocityCopy &&
              this.form.depth &&
              this.form.air_density
            ) {
              const velocity = this.velocityCopy();
              const density = this.density();
              let result =
                (((0.0024 * Math.pow(velocity, 2.0139) * this.form.depth) / 8) *
                  1.13) /
                density;
              if (this.isNaN(result)) {
                this.form.gases_control = result.toFixed(4);
              } else {
                this.form.gases_control = '';
              }

              this.airPressureLossOfMedium = result.toFixed(2);
              return result;
            }
          },
          gases_controlc() {
            // 气程阻力
            if (
              this.form.gases_nowel &&
              this.form.gases_nowelc &&
              this.form.gases_control
            ) {
              const nowel = this.gases_nowel();
              const nowelc = this.gases_nowelc();
              const control = this.gases_control();
              let result = nowel + nowelc + control;
              if (this.isNaN(result)) {
                this.form.gases_controlc = result.toFixed(4);
              } else {
                this.form.gases_controlc = '';
              }

              return result;
            }
          },
          twine_fun() {
            if (this.form.twine_K1) {
              this.twine_handle();
              this.twine_nowel();
            } else {
              this.form.twine_handle = '';
              this.form.twine_nowel = '';
            }
          },
          twine_handle() {
            // 操作气速
            if (this.form.water_density && this.form.air_exit) {
              const exit = this.exit();
              let result =
                this.form.twine_K1 *
                Math.pow((this.form.water_density - exit) / exit, 0.5);
              if (this.isNaN(result)) {
                this.form.twine_handle = result.toFixed(2);
              } else {
                this.form.twine_handle = '';
              }

              return result;
            }
          },
          twine_nowel() {
            // 阻力
            let i = this.form;
            if (
              i.twine_rub &&
              i.twine_handle &&
              i.twine_thickness &&
              i.air_exit &&
              i.twine_lacuna &&
              i.twine_diameter
            ) {
              const handle = this.twine_handle();
              const exit = this.exit();
              let result =
                (((i.twine_rub * Math.pow(handle, 2) * i.twine_thickness) /
                  1000) *
                  exit *
                  (1 - i.twine_lacuna)) /
                (i.twine_diameter / 1000) /
                1000;
              if (this.isNaN(result)) {
                this.form.twine_nowel = result.toFixed(2);
              } else {
                this.form.twine_nowel = '';
              }

              return result;
            }
          },
          distance() {
            if (this.form.twine_distance) {
              this.twine_area();
              this.twine_flow();
              this.twine_stress();
              this.twine_export();
              this.twine_rate();
              this.twine_pressure();
              this.twine_total();
            } else {
              this.form.twine_area = '';
              this.form.twine_flow = '';
              this.form.twine_stress = '';
              this.form.twine_export = '';
              this.form.twine_rate = '';
              this.form.twine_pressure = '';
              this.form.twine_total = '';
            }
          },
          twine_area() {
            // 入口流通处通道面积
            if (this.form.length) {
              let result =
                ((this.form.length / 2) * this.form.twine_distance) / 1000000;
              if (this.isNaN(result)) {
                this.form.twine_area = result.toFixed(5);
              } else {
                this.form.twine_area = '';
              }

              return result;
            }
          },
          twine_flow() {
            // 入口流通处流速
            let i = this.form;
            if (i.air_entrance && i.air_quality && i.twine_area) {
              const entrance = this.entrance();
              const quality = this.quality();
              const area = this.twine_area();
              let result = quality / (area * entrance);
              if (this.isNaN(result)) {
                this.form.twine_flow = result.toFixed(6);
              } else {
                this.form.twine_flow = '';
              }

              return result;
            }
          },
          twine_stress() {
            // 入口流通处压降
            if (this.form.twine_flow && this.form.air_entrance) {
              const flow = this.twine_flow();
              const entrance = this.entrance();
              let result = (entrance * Math.pow(flow, 2)) / 2 / 1000;
              if (this.isNaN(result)) {
                this.form.twine_stress = result.toFixed(7);
              } else {
                this.form.twine_stress = '';
              }

              return result;
            }
          },
          twine_export() {
            // 出口流通处通道面积
            if (this.form.length) {
              let result =
                ((this.form.length / 2) * this.form.twine_distance) / 1000000;
              if (this.isNaN(result)) {
                this.form.twine_export = result.toFixed(5);
              } else {
                this.form.twine_export = '';
              }

              return result;
            }
          },
          twine_rate() {
            // 出口流通处流速
            let i = this.form;
            if (i.air_quality && i.air_exit && i.twine_export) {
              const quality = this.quality();
              const exit = this.exit();
              const twine = this.twine_export();
              let result = quality / (twine * exit);
              console.log(quality, twine, exit);
              if (this.isNaN(result)) {
                this.form.twine_rate = result.toFixed(6);
              } else {
                this.form.twine_rate = '';
              }

              return result;
            }
          },
          twine_pressure() {
            if (this.form.twine_rate && this.form.air_exit) {
              const exit = this.exit();
              const rate = this.twine_rate();
              let result = (exit * Math.pow(rate, 2)) / 2 / 1000;
              if (this.isNaN(result)) {
                this.form.twine_pressure = result.toFixed(7);
              } else {
                this.form.twine_pressure = '';
              }

              return result;
            }
          },
          twine_total() {
            let i = this.form;
            if (
              i.gases_controlc &&
              i.twine_nowel &&
              i.twine_stress &&
              i.twine_pressure
            ) {
              const controlc = this.gases_controlc();
              const nowel = this.twine_nowel();
              const stress = this.twine_stress();
              const pressure = this.twine_pressure();
              let result = controlc + nowel + stress + pressure;
              if (this.isNaN(result)) {
                this.form.twine_total = result.toFixed(2);
              } else {
                this.form.twine_total = '';
              }
            }
          },
          //切换页面
          switchPage() {
            if (this.showPage == false) {
              this.showPage = true;
              this.showBtnLabel = 'K-SK2093.97计算书';
            } else {
              this.showPage = false;
              this.showBtnLabel = '热工性能计算书';
            }
          }
        }
      });
    </script>
  </body>
</html>
